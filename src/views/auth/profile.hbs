<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Profile</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0b0215] text-white min-h-screen p-6">
  {{> navBar
     }}
  <div class="max-w-2xl mx-auto my-20 space-y-6">
    
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold">
        My <span class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-indigo-500">Profile</span>
      </h1>
    </div>

    <!-- Update Name Section -->
    <form action="/users/{{user.id}}?_method=PATCH" method="POST"
          class="bg-[#12052b] shadow-2xl rounded-2xl p-10 w-full space-y-6 border border-fuchsia-700/20">
      
      {{#if nameMessage}}
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
        <span class="block sm:inline">{{nameMessage}}</span>
      </div>
      {{/if}}
      
      {{#if error}}
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
        <strong class="font-bold">Error!</strong>
        <span class="block sm:inline">{{error}}</span>
      </div>
      {{/if}}

      <h2 class="text-2xl font-bold text-center mb-8">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-indigo-500">Update Name</span>
      </h2>

      <div>
        <label class="block text-sm mb-2 text-gray-300">Name</label>
        <input type="text" name="name" value="{{user.name}}" required
               class="w-full px-4 py-3 rounded-lg bg-[#0b0215] border border-gray-700 focus:border-fuchsia-600 focus:ring-1 focus:ring-fuchsia-600 outline-none" />
      </div>

      <button type="submit"
              class="w-full py-3 mt-6 bg-gradient-to-r from-fuchsia-600 to-indigo-500 hover:opacity-90 rounded-full font-semibold transition">
        Update Name
      </button>
    </form>

    <!-- Update Email Section -->
    <form action="/users/{{user.id}}?_method=PATCH" method="POST"
          class="bg-[#12052b] shadow-2xl rounded-2xl p-10 w-full space-y-6 border border-fuchsia-700/20">

      <h2 class="text-2xl font-bold text-center mb-8">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-indigo-500">Update Email</span>
      </h2>

      <div>
        <label class="block text-sm mb-2 text-gray-300">Email</label>
        <input type="email" name="email" value="{{user.email}}" required
               class="w-full px-4 py-3 rounded-lg bg-[#0b0215] border border-gray-700 focus:border-fuchsia-600 focus:ring-1 focus:ring-fuchsia-600 outline-none" />
      </div>

      <button type="submit"
              class="w-full py-3 mt-6 bg-gradient-to-r from-fuchsia-600 to-indigo-500 hover:opacity-90 rounded-full font-semibold transition">
        Update Email
      </button>
    </form>

    <!-- Update Password Section -->
    <form action="/users/{{user.id}}?_method=PATCH" method="POST"
          class="bg-[#12052b] shadow-2xl rounded-2xl p-10 w-full space-y-6 border border-fuchsia-700/20">
      
      {{#if passwordMessage}}
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
        <span class="block sm:inline">{{passwordMessage}}</span>
      </div>
      {{/if}}
      
      {{#if passwordError}}
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
        <strong class="font-bold">Error!</strong>
        <span class="block sm:inline">{{passwordError}}</span>
      </div>
      {{/if}}

      <h2 class="text-2xl font-bold text-center mb-8">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-indigo-500">Update Password</span>
      </h2>

      <div>
        <label class="block text-sm mb-2 text-gray-300">Current Password</label>
        <input type="password" name="current_password" required
               class="w-full px-4 py-3 rounded-lg bg-[#0b0215] border border-gray-700 focus:border-fuchsia-600 focus:ring-1 focus:ring-fuchsia-600 outline-none" />
      </div>

      <div>
        <label class="block text-sm mb-2 text-gray-300">New Password</label>
        <input type="password" name="new_password" required
               class="w-full px-4 py-3 rounded-lg bg-[#0b0215] border border-gray-700 focus:border-fuchsia-600 focus:ring-1 focus:ring-fuchsia-600 outline-none" />
      </div>

      <div>
        <label class="block text-sm mb-2 text-gray-300">Confirm New Password</label>
        <input type="password" name="confirm_password" required
               class="w-full px-4 py-3 rounded-lg bg-[#0b0215] border border-gray-700 focus:border-fuchsia-600 focus:ring-1 focus:ring-fuchsia-600 outline-none" />
      </div>

      <button type="submit"
              class="w-full py-3 mt-6 bg-gradient-to-r from-fuchsia-600 to-indigo-500 hover:opacity-90 rounded-full font-semibold transition">
        Update Password
      </button>
    </form>


    <div class="text-center pt-4">
      <a href="/auth/logout" 
         class="inline-block px-8 py-3 bg-red-600/20 hover:bg-red-600/30 border border-red-600/50 rounded-full font-semibold transition">
        Logout
      </a>
    </div>

  </div>
  {{> footer
     }}
</body>
</html>